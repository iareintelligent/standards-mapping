<div>
  <div class="graph-type">
    <input name="options" type="radio"  [(ngModel)]="graphType" [value]="0"
           [checked]="graphType==0" (change)="RefreshGraph()" />
    <input name="options" type="radio"  [(ngModel)]="graphType" [value]="1"
           [checked]="graphType==1" (change)="RefreshGraph()"/>
    <input name="options" type="radio"  [(ngModel)]="graphType" [value]="2"
           [checked]="graphType==2" (change)="RefreshGraph()"/>
  </div>
  <div class="graph-container">
    <div class="graph-categories">
      <div class="graph-category" *ngFor="let c of graphCategories">
        <input type="checkbox" [(ngModel)]="c.active" [checked]="c.active" (change)="RefreshGraph()"/>
        <span class="category-text">{{c.title}}</span>
      </div>
      
      <input id="filter3" #filter3 (keyup)="filterFn(filter3.value, tree.treeModel)" placeholder="filter by fuzzy search"/>
      <button (click)="tree.treeModel.clearFilter()">Clear Filter</button>
      <tree-root #tree [focused]="true" [options]="options" [nodes]="nodes"></tree-root>
    </div>
    <div class="table-wrapper" *ngIf="tableData">
      <table>
        <thead>
            <td *ngFor="let h of tableData.headers">{{h}}</td>
        </thead>
        <tbody>
          <tr *ngFor="let r of tableData.rows">
            <td *ngFor="let c of r" [ngStyle]="{'background-color': complianceColors[c ? c.data.compliance_level : 0]}">
              <div *ngIf="c">
                <div><a routerLink="/doctypes/{{c.data.type}}" routerLinkActive="active">{{c.data.section}}</a></div>
                <div>{{c.data.body}}</div>
              </div>
              <div *ngIf="!c">
                <div>-</div>
                <div></div>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <div id="d3" class="d3">
    </div>
  </div>
</div>
