<div>
  <div class="graph-type">
    <input name="options" type="radio"  [(ngModel)]="graphType" [value]="0"
           [checked]="graphType==0" (change)="RefreshGraph()" />
    <input name="options" type="radio"  [(ngModel)]="graphType" [value]="1"
           [checked]="graphType==1" (change)="RefreshGraph()"/>
    <input name="options" type="radio"  [(ngModel)]="graphType" [value]="2"
           [checked]="graphType==2" (change)="RefreshGraph()"/>
  </div>
  <div class="graph-container">
    <div class="graph-categories">
      <div class="graph-tab-buttons">
        <div class="graph-tab-button" *ngFor="let t of graphTabs">
          <button [class]="t.active ? 'button-active' : ''" (click)="activateTab(t)">{{t.title}}</button>
        </div>
      </div>
      <div class="graph-tabs">
        <div *ngFor="let t of graphTabs">
          <div class="graph-tab" [class]="!t.active ? 'graph-inactive' : ''">
            <input id="filter3" #filter3 (keyup)="filterFn(filter3.value, tree.treeModel)" placeholder="filter by fuzzy search"/>
            <button (click)="tree.treeModel.clearFilter(); filter3.value = ''">Clear Filter</button>
            <tree-root #tree [focused]="true" [(state)]="t.state" [options]="t.options" [nodes]="t.nodes" (stateChange)="tabTreeChanged(t, $event, tree.treeModel)">></tree-root>
          </div>
        </div>
      </div>

<!--      <div class="graph-category" *ngFor="let c of graphCategories">
        <input type="checkbox" [(ngModel)]="c.active" [checked]="c.active" (change)="RefreshGraph()"/>
        <span class="category-text">{{c.title}}</span>
      </div>-->
    </div>
    <div class="table-wrapper" *ngIf="tableData">
      <table>
        <thead>
            <td *ngFor="let h of tableData.headers">{{h}}</td>
        </thead>
        <tbody>
          <tr *ngFor="let r of tableData.rows">
            <td *ngFor="let c of r" [ngStyle]="{'background-color': complianceColors[c ? c.data.compliance_level : 0]}">
              <div *ngIf="c">
                <div><a routerLink="/doctypes/{{c.data.type}}" routerLinkActive="active">{{c.data.section}}</a></div>
                <div>{{c.data.body}}</div>
              </div>
              <div *ngIf="!c">
                <div>-</div>
                <div></div>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <div id="d3" class="d3">
    </div>
  </div>
</div>
